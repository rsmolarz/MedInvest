PART A ‚Äî Admin Pending List (Verification Throughput Fix)

This is the bottleneck. Fix this and everything downstream accelerates.

1Ô∏è‚É£ Backend: Single Admin Pending List Endpoint
Endpoint
GET /api/admin/verification/pending

Authorization

Admin role required

Uses your centralized authorization (can(user, Actions.ADMIN_REVIEW_VERIFICATION, None))

Query params
?limit=25
&offset=0
&search=smith

Response (tight, UI-ready)
{
  "total": 3,
  "results": [
    {
      "user_id": 42,
      "full_name": "Jane Smith, MD",
      "email": "jane@example.com",
      "npi_number": "1234567890",
      "license_state": "TX",
      "specialty": "ENT",
      "submitted_at": "2026-01-07T14:22:11Z"
    }
  ]
}

Implementation (FastAPI-style example)
@router.get("/admin/verification/pending")
def pending_verifications(
    limit: int = 25,
    offset: int = 0,
    search: str | None = None,
    current_user: User = Depends(get_current_user)
):
    decision = can(current_user, Actions.ADMIN_REVIEW_VERIFICATION, None)
    if not decision.allowed:
        raise deny_response(decision.reason)

    q = db.query(User).filter(
        User.verification_status == "pending"
    )

    if search:
        q = q.filter(
            User.full_name.ilike(f"%{search}%") |
            User.email.ilike(f"%{search}%") |
            User.npi_number.ilike(f"%{search}%")
        )

    total = q.count()

    users = (
        q.order_by(User.verification_submitted_at.asc())
         .limit(limit)
         .offset(offset)
         .all()
    )

    return {
        "total": total,
        "results": [
            {
                "user_id": u.id,
                "full_name": u.full_name,
                "email": u.email,
                "npi_number": u.npi_number,
                "license_state": u.license_state,
                "specialty": u.specialty,
                "submitted_at": u.verification_submitted_at
            }
            for u in users
        ]
    }

2Ô∏è‚É£ Admin UI: Pending Verification Page (Exact Spec)
Route
/admin/verification

Layout

Table view (default)

Name	Specialty	State	NPI	Submitted	Actions
Jane Smith, MD	ENT	TX	1234567890	Jan 7	[Review]
Actions

Review ‚Üí /admin/verification/{user_id}

Review Screen

Route

/admin/verification/{user_id}


Panels

User Snapshot

Name

Email

Specialty

Account age

Verification Data

NPI

License state

Admin Notes

Textarea (required if rejecting)

Actions

‚úÖ Approve

‚ùå Reject

Calls
POST /api/admin/verification/{user_id}/approve
POST /api/admin/verification/{user_id}/reject

UX rule (important)

After approve/reject ‚Üí auto-advance to next pending user
(this doubles throughput)

PART B ‚Äî ‚ÄúAI Analyst‚Äù Button on Deal Detail

This is where the product becomes meaningfully differentiated.

3Ô∏è‚É£ Backend: Job Creation (already exists, now wire it cleanly)
Create Job
POST /api/ai/jobs


Payload

{
  "job_type": "analyze_deal",
  "deal_id": 123
}


Rules

Verified physicians only

One active job per deal at a time (prevent spam)

Response

{
  "job_id": "ai_9f3a",
  "status": "queued"
}

4Ô∏è‚É£ Backend: Poll Job Status
GET /api/ai/jobs/{job_id}


Response:

{
  "job_id": "ai_9f3a",
  "status": "done",
  "result_ref": {
    "deal_analysis_id": 55
  }
}

5Ô∏è‚É£ Backend: Deal Detail (already extended)
GET /api/deals/{deal_id}


Now returns:

{
  "deal": {...},
  "analyses": [
    {
      "id": 55,
      "summary": "...",
      "key_risks": ["..."],
      "missing_info": ["..."],
      "diligence_questions": ["..."],
      "created_at": "2026-01-08T10:31:00Z"
    }
  ]
}

6Ô∏è‚É£ Deal Detail UI: Exact Behavior
Section: ‚ÄúAI Analyst‚Äù

Button: Run AI Analysis

State machine:

Idle ‚Üí Queued ‚Üí Processing ‚Üí Done

While processing:

Spinner + text: ‚ÄúAnalyzing deal structure and risk‚Ä¶‚Äù

When done

Render a read-only analyst card:

üß† Summary

‚ö†Ô∏è Key Risks

‚ùì Missing Information

üìã Diligence Questions

Timestamp + version label (‚ÄúAI Analyst v1‚Äù)

UX rule (critical)

AI output is never editable

New run = new version (auditability + trust)

Why this is the correct next move
Admin Pending List

Removes human bottleneck

Makes trust scalable

Enables controlled growth

AI Analyst Button

Immediate ‚Äúaha‚Äù moment for doctors

Converts lurkers ‚Üí contributors

Differentiates you from:

Doximity (no analysis)

LinkedIn (no structure)

Slack/Discord (no persistence)